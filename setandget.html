<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


	</head>

	<body>
		<script type="text/javascript">
		function inherit(p) {
		    if (p == null) throw TypeError(); // p must be a non-null object
		    if (Object.create)                // If Object.create() is defined...
		        return Object.create(p);      //    then just use it.
		    var t = typeof p;                 // Otherwise do some more type checking
		    if (t !== "object" && t !== "function") throw TypeError();
		    function f() {};                  // Define a dummy constructor function.
		    f.prototype = p;                  // Set its prototype property to p.
		    return new f();                   // Use f() to create an "heir" of p.
		}

		var p = {
			x:1.0,
			y:1.0,

			get r(){
				return Math.sqrt(this.x * this.x + this.y*this.y);
			},
			set r(newvalue){
				var oldvalue = Math.sqrt(this.x * this.x +this.y*this.y);
				var ratio = newvalue/oldvalue;
				this.x *=ratio;
				this.y *=ratio;
			},

			get theta(){
				return Math.atan2(this.y,this.x);
			}
		}

		var q = inherit(p);
		console.log(q.r);
		console.log(q.theta);

		</script>

	</body>

</html>